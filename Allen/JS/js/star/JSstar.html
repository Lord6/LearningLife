<html>
<head>
<meta charset="utf-8"/>
</head>
<style>
div{
	border-style:solid;
	width:600px;
	height:300px;
}
</style>
<body>
<div id="starArea">
</div>
</body>
</html>
<script>
 s_number = document.getElementsByName("stars");
 function baseName(str)
{
   var base = new String(str).substring(str.lastIndexOf('/') + 1); 
    if(base.lastIndexOf(".") != -1)       
        base = base.substring(0, base.lastIndexOf("."));
   return base;
}
 function countStar(){
	var s_count=0;
	for(i=0;i<s_number.length;i++){
		if(baseName(s_number[i].src)=="star")
			s_count++;
		
	
	
	}
 
 
	return s_count;
 
 }
 function changeImage(IMG){
    switch (event.button){
		case 2:
			IMG.src="star.jpg";
			break;
		case 0:
			IMG.src="darkStar.jpg";
			break;
	
	
	
	}
	
 }
 function showstar(){	
	switch(event.keyCode){
		case 39:
			if  (s_number.length==5){
			alert("max:5stars thx!!")
			return;
			}	
			var D_img = document.createElement('img');	
			D_img.src='star.jpg';
			D_img.setAttribute("id",s_number.length+1);
			D_img.setAttribute("name", "stars");
			D_img.setAttribute("onmousedown", "changeImage(this)");
			D_img.setAttribute("height", "20");
			D_img.setAttribute("width", "20");
			document.getElementById("starArea").appendChild(D_img);		
			break;
		case 37:	
			if  (s_number.length!=0){
				var re_star = document.getElementById(s_number.length);
				re_star.parentNode.removeChild(re_star);
			
			
			}	
			
			break;
		case 13:	
			alert("你的評價為:"+countStar()+"顆星");
			break;
			
	}

}
document.onkeydown=showstar;

</script>